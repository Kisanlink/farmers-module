# ==============================================================================
# Docker Compose Environment Variables Template
# ==============================================================================
# Copy this file to .env and fill in your actual values
# Usage: cp .env.example .env
#
# IMPORTANT: Never commit .env file with actual secrets to version control!
# ==============================================================================

# ------------------------------------------------------------------------------
# Build Configuration
# ------------------------------------------------------------------------------
GO_VERSION=1.24.4
VERSION=1.0.0
GIT_COMMIT=unknown
BUILD_DATE=
IMAGE_TAG=latest

# Docker Registry (for production)
DOCKER_REGISTRY=ghcr.io/kisanlink

# ------------------------------------------------------------------------------
# Service Configuration
# ------------------------------------------------------------------------------
SERVICE_NAME=farmers-module
SERVICE_PORT=8000
GATEWAY_PORT=8081
ENVIRONMENT=development

# ------------------------------------------------------------------------------
# Database Configuration
# ------------------------------------------------------------------------------
# PostgreSQL connection settings
DB_POSTGRES_HOST=postgres
DB_POSTGRES_PORT=5432
DB_POSTGRES_USER=postgres
DB_POSTGRES_PASSWORD=postgres
DB_POSTGRES_DBNAME=farmers_module
DB_POSTGRES_SSLMODE=disable
DB_POSTGRES_MAX_CONNS=10

# ------------------------------------------------------------------------------
# AAA Service Configuration
# ------------------------------------------------------------------------------
# Authentication, Authorization, and Auditing service
AAA_ENABLED=false
AAA_GRPC_ADDR=localhost:50051
AUTHZ_CACHE_TTL=30s
AAA_RETRY_ATTEMPTS=3
AAA_RETRY_BACKOFF=100ms
AAA_REQUEST_TIMEOUT=5s

# ------------------------------------------------------------------------------
# Observability Configuration
# ------------------------------------------------------------------------------
# OpenTelemetry and logging settings
OTEL_EXPORTER_OTLP_ENDPOINT=localhost:4317
LOG_LEVEL=info
ENABLE_TRACING=false
ENABLE_METRICS=false

# ------------------------------------------------------------------------------
# PostGIS Configuration
# ------------------------------------------------------------------------------
# Spatial Reference System Identifier (4326 = WGS 84)
POSTGIS_SRID=4326

# ------------------------------------------------------------------------------
# CORS Configuration
# ------------------------------------------------------------------------------
# Comma-separated list of allowed origins for cross-origin requests
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173
# Allow credentials (cookies, authorization headers) in CORS requests
CORS_ALLOW_CREDENTIALS=false

# ------------------------------------------------------------------------------
# Development Tools (docker-compose.dev.yml only)
# ------------------------------------------------------------------------------
# pgAdmin configuration
PGADMIN_EMAIL=admin@farmers.local
PGADMIN_PASSWORD=admin

# Grafana configuration
GRAFANA_PASSWORD=admin

# ==============================================================================
# Environment-Specific Examples
# ==============================================================================

# ------------------------------------------------------------------------------
# Development Environment
# ------------------------------------------------------------------------------
# ENVIRONMENT=development
# LOG_LEVEL=debug
# AAA_ENABLED=false
# ENABLE_TRACING=true
# ENABLE_METRICS=true
# DB_POSTGRES_SSLMODE=disable
# CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173
# CORS_ALLOW_CREDENTIALS=false

# ------------------------------------------------------------------------------
# Staging Environment
# ------------------------------------------------------------------------------
# ENVIRONMENT=staging
# LOG_LEVEL=info
# AAA_ENABLED=true
# AAA_GRPC_ADDR=aaa-service-staging:50051
# ENABLE_TRACING=true
# ENABLE_METRICS=true
# DB_POSTGRES_HOST=staging-db.example.com
# DB_POSTGRES_SSLMODE=require
# DB_POSTGRES_MAX_CONNS=20
# OTEL_EXPORTER_OTLP_ENDPOINT=otel-collector:4317
# CORS_ALLOWED_ORIGINS=https://staging.app.kisanlink.in
# CORS_ALLOW_CREDENTIALS=true

# ------------------------------------------------------------------------------
# Production Environment
# ------------------------------------------------------------------------------
# ENVIRONMENT=production
# LOG_LEVEL=warn
# AAA_ENABLED=true
# AAA_GRPC_ADDR=aaa-service.production.svc.cluster.local:50051
# AAA_REQUEST_TIMEOUT=3s
# AAA_RETRY_ATTEMPTS=2
# ENABLE_TRACING=true
# ENABLE_METRICS=true
# DB_POSTGRES_HOST=farmers-db.production.example.com
# DB_POSTGRES_PORT=5432
# DB_POSTGRES_USER=farmers_service
# DB_POSTGRES_PASSWORD=<STRONG_PASSWORD_FROM_SECRETS_MANAGER>
# DB_POSTGRES_DBNAME=farmers_production
# DB_POSTGRES_SSLMODE=require
# DB_POSTGRES_MAX_CONNS=50
# OTEL_EXPORTER_OTLP_ENDPOINT=otel-collector.monitoring.svc.cluster.local:4317
# CORS_ALLOWED_ORIGINS=https://app.kisanlink.in,https://admin.kisanlink.in
# CORS_ALLOW_CREDENTIALS=true

# ==============================================================================
# Security Notes
# ==============================================================================
# 1. Use strong, randomly generated passwords in non-development environments
# 2. Enable SSL/TLS for all database connections in staging and production
# 3. Store production secrets in a secrets manager (e.g., AWS Secrets Manager,
#    HashiCorp Vault, Kubernetes Secrets)
# 4. Rotate credentials regularly
# 5. Use service accounts with minimal required permissions
# 6. Enable AAA service in all non-development environments
# 7. Never expose database ports to the public internet
# ==============================================================================
